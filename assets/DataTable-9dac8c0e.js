import{V as x,W as j,X as ie,Y as ce,Z as le,_ as Z,$ as P,a0 as F,a1 as ue,a2 as W,a3 as ge,a4 as Q,a5 as L,a6 as E,a7 as H,i as fe,a8 as pe,a9 as de,aa as ye,ab as be,ac as he,ad as Te,c as _,d as f,e as p,f as d,A,R as C,F as S,z as w,t as I,k as B,Q as ve,h as U,g as me}from"./index-1102438a.js";import{i as M}from"./isSymbol-65168823.js";function Ae(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var $e=1/0,G=x?x.prototype:void 0,K=G?G.toString:void 0;function J(e){if(typeof e=="string")return e;if(j(e))return Ae(e,J)+"";if(M(e))return K?K.call(e):"";var t=e+"";return t=="0"&&1/e==-$e?"-0":t}function _e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function N(e){return ie(e)?ce(e):le(e)}var Se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,je=/^\w*$/;function Ce(e,t){if(j(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||M(e)?!0:je.test(e)||!Se.test(e)||t!=null&&e in Object(t)}var we="Expected a function";function k(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(we);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(k.Cache||Z),n}k.Cache=Z;var Ie=500;function Oe(e){var t=k(e,function(r){return n.size===Ie&&n.clear(),r}),n=t.cache;return t}var xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ee=/\\(\\)?/g,Pe=Oe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(xe,function(n,r,o,i){t.push(o?i.replace(Ee,"$1"):r||n)}),t});const Be=Pe;function Fe(e){return e==null?"":J(e)}function Le(e,t){return j(e)?e:Ce(e,t)?[e]:Be(Fe(e))}var Me=1/0;function Ne(e){if(typeof e=="string"||M(e))return e;var t=e+"";return t=="0"&&1/e==-Me?"-0":t}function ke(e,t){t=Le(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Ne(t[n++])];return n&&n==r?e:void 0}function R(e,t,n){var r=e==null?void 0:ke(e,t);return r===void 0?n:r}function ee(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function De(e,t){return e&&P(t,N(t),e)}function Ue(e,t){return e&&P(t,F(t),e)}function Ge(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function te(){return[]}var Ke=Object.prototype,Re=Ke.propertyIsEnumerable,Y=Object.getOwnPropertySymbols,Ye=Y?function(e){return e==null?[]:(e=Object(e),Ge(Y(e),function(t){return Re.call(e,t)}))}:te;const D=Ye;function qe(e,t){return P(e,D(e),t)}var ze=Object.getOwnPropertySymbols,Ve=ze?function(e){for(var t=[];e;)ee(t,D(e)),e=ue(e);return t}:te;const ne=Ve;function Xe(e,t){return P(e,ne(e),t)}function re(e,t,n){var r=t(e);return j(e)?r:ee(r,n(e))}function Ze(e){return re(e,N,D)}function We(e){return re(e,F,ne)}var Qe=Object.prototype,He=Qe.hasOwnProperty;function Je(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&He.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function et(e,t){var n=t?W(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var tt=/\w*$/;function nt(e){var t=new e.constructor(e.source,tt.exec(e));return t.lastIndex=e.lastIndex,t}var q=x?x.prototype:void 0,z=q?q.valueOf:void 0;function rt(e){return z?Object(z.call(e)):{}}var at="[object Boolean]",ot="[object Date]",st="[object Map]",it="[object Number]",ct="[object RegExp]",lt="[object Set]",ut="[object String]",gt="[object Symbol]",ft="[object ArrayBuffer]",pt="[object DataView]",dt="[object Float32Array]",yt="[object Float64Array]",bt="[object Int8Array]",ht="[object Int16Array]",Tt="[object Int32Array]",vt="[object Uint8Array]",mt="[object Uint8ClampedArray]",At="[object Uint16Array]",$t="[object Uint32Array]";function _t(e,t,n){var r=e.constructor;switch(t){case ft:return W(e);case at:case ot:return new r(+e);case pt:return et(e,n);case dt:case yt:case bt:case ht:case Tt:case vt:case mt:case At:case $t:return ge(e,n);case st:return new r;case it:case ut:return new r(e);case ct:return nt(e);case lt:return new r;case gt:return rt(e)}}var St="[object Map]";function jt(e){return Q(e)&&L(e)==St}var V=E&&E.isMap,Ct=V?H(V):jt;const wt=Ct;var It="[object Set]";function Ot(e){return Q(e)&&L(e)==It}var X=E&&E.isSet,xt=X?H(X):Ot;const Et=xt;var Pt=1,Bt=2,Ft=4,ae="[object Arguments]",Lt="[object Array]",Mt="[object Boolean]",Nt="[object Date]",kt="[object Error]",oe="[object Function]",Dt="[object GeneratorFunction]",Ut="[object Map]",Gt="[object Number]",se="[object Object]",Kt="[object RegExp]",Rt="[object Set]",Yt="[object String]",qt="[object Symbol]",zt="[object WeakMap]",Vt="[object ArrayBuffer]",Xt="[object DataView]",Zt="[object Float32Array]",Wt="[object Float64Array]",Qt="[object Int8Array]",Ht="[object Int16Array]",Jt="[object Int32Array]",en="[object Uint8Array]",tn="[object Uint8ClampedArray]",nn="[object Uint16Array]",rn="[object Uint32Array]",s={};s[ae]=s[Lt]=s[Vt]=s[Xt]=s[Mt]=s[Nt]=s[Zt]=s[Wt]=s[Qt]=s[Ht]=s[Jt]=s[Ut]=s[Gt]=s[se]=s[Kt]=s[Rt]=s[Yt]=s[qt]=s[en]=s[tn]=s[nn]=s[rn]=!0;s[kt]=s[oe]=s[zt]=!1;function O(e,t,n,r,o,i){var a,b=t&Pt,c=t&Bt,T=t&Ft;if(n&&(a=o?n(e,r,o,i):n(e)),a!==void 0)return a;if(!fe(e))return e;var u=j(e);if(u){if(a=Je(e),!b)return pe(e,a)}else{var g=L(e),l=g==oe||g==Dt;if(de(e))return ye(e,b);if(g==se||g==ae||l&&!o){if(a=c||l?{}:be(e),!b)return c?Xe(e,Ue(a,e)):qe(e,De(a,e))}else{if(!s[g])return o?e:{};a=_t(e,g,b)}}i||(i=new he);var y=i.get(e);if(y)return y;i.set(e,a),Et(e)?e.forEach(function(h){a.add(O(h,t,n,h,e,i))}):wt(e)&&e.forEach(function(h,$){a.set($,O(h,t,n,$,e,i))});var v=T?c?We:Ze:c?F:N,m=u?void 0:v(e);return _e(m||e,function(h,$){m&&($=h,h=e[$]),Te(a,$,O(h,t,n,$,e,i))}),a}var an=1,on=4;function $n(e){return O(e,an|on)}const sn=["onClick"],cn=d("a",{class:"page-link",href:"javascript:;",tabindex:"-1"},"前一頁",-1),ln=[cn],un=["onClick"],gn={class:"page-link",href:"javascript:;"},fn=["onClick"],pn=d("a",{class:"page-link",href:"javascript:;"},"下一頁",-1),dn=[pn],yn={__name:"Pagination",props:{pagination:{type:Object,default:()=>({total:0,size:10,page:0})}},emits:["pageChange"],setup(e,{emit:t}){const n=e,r=_(()=>{let l=(n.pagination.total+n.pagination.size-1)/n.pagination.size;return parseInt(l)}),o=_(()=>n.pagination.page),i=_(()=>{let l=1,y=1;r.value<=5||o.value<=3?(l=1,o.value<=3&&r.value>5?y=5:y=r.value):r.value-o.value<2?(l=r.value-4,y=r.value):(l=o.value-2,y=o.value+2,y>r.value&&(y=r.value));let v=[];for(let m=l;m<=y;m++)v.push(m);return v}),a=()=>{window.scrollTo(0,0)},b=_(()=>o.value!==1),c=_(()=>r.value>0&&o.value!==r.value),T=l=>{o.value!=l&&(t("pageChange",l),a())},u=()=>{b.value&&(t("pageChange",n.pagination.page-1),a())},g=()=>{c.value&&(t("pageChange",n.pagination.page+1),a())};return(l,y)=>(f(),p("ul",{class:A(["pagination mt-4 mb-0 float-end",{"d-none":n.pagination.total==0}])},[d("li",{class:A(["page-item page-prev",{disabled:!b.value}]),onClick:C(u,["prevent"])},ln,10,sn),(f(!0),p(S,null,w(i.value,(v,m)=>(f(),p("li",{class:A(["page-item",{active:v===o.value}]),key:m,onClick:C(h=>T(v),["prevent"])},[d("a",gn,I(v),1)],10,un))),128)),d("li",{class:A(["page-item page-next",{disabled:!c.value}]),onClick:C(g,["prevent"])},dn,10,fn)],2))}};const bn={class:"table-responsive border userlist-table"},hn={class:"table card-table table-striped table-vcenter text-nowrap mb-0"},Tn=["onClick","title"],vn=["colspan"],_n={__name:"DataTable",props:{pageChange:{type:Function,required:!1},items:{type:Array,required:!0},header:{type:Array,required:!0},pagination:{type:Object,required:!1},sort:{type:[String],default:""},orderBy:{type:[String,Number],default:""}},emits:["update:sort","update:orderBy"],setup(e,{emit:t}){const n=e,r=_({get:()=>n.sort,set:a=>{t("update:sort",a)}}),o=_({get:()=>n.orderBy,set:a=>{t("update:orderBy",a)}}),i=(a,b)=>{o.value===a?(o.value=a,r.value=b==="desc"?"asc":"desc"):(o.value=a,r.value="asc"),n.pageChange(1)};return(a,b)=>(f(),p(S,null,[d("div",bn,[d("table",hn,[d("thead",null,[d("tr",null,[(f(!0),p(S,null,w(e.header,({label:c,thClassName:T,key:u,sortTurn:g})=>(f(),p("th",{class:A({[T||"wd-lg-20p"]:!0}),key:u},[!g||g==="off"?(f(),p(S,{key:0},[B(I(c),1)],64)):(f(),p("a",{key:1,href:"#",class:"sorted d-flex justify-content-between w-100",onClick:C(l=>i(u,r.value),["prevent"]),title:`▲▼ ${c}`},[B(I(c)+" ",1),d("span",{class:A({active:r.value==="asc"&&e.orderBy==u})},null,2),d("span",{class:A({active:r.value==="desc"&&e.orderBy==u})},null,2)],8,Tn))],2))),128))])]),d("tbody",null,[e.items.length>0?(f(!0),p(S,{key:0},w(e.items,(c,T)=>(f(),p("tr",{key:c.id},[(f(!0),p(S,null,w(e.header,({key:u,tdClassName:g},l)=>(f(),p("td",{key:u,class:A(g)},[ve(a.$slots,u,{item:c,value:U(R)(c,u,""),index:l,itemIndex:T},()=>[B(I(U(R)(c,u,"")),1)])],2))),128))]))),128)):(f(),p("td",{key:1,colspan:e.header.length,class:"text-center"}," 查無資料 ",8,vn))])])]),me(yn,{pagination:e.pagination,onPageChange:e.pageChange},null,8,["pagination","onPageChange"])],64))}};export{_n as _,$n as c};
