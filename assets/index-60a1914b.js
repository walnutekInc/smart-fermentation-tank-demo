import{b as r,a as y,e as b,n as V,E as M,w as p,h as e,j as v,m as R,t as D,G as j,f as x,H as B,I as F,J as U,F as q,K as w}from"./index-f788ecf7.js";import{a as A,_ as N,b as E}from"./Modal-506d2c4d.js";import{_ as g}from"./FermentationInput-7dd622a5.js";import{F as $}from"./FermentationSelect-e72acec7.js";import{c as C}from"./cloneDeep-bcfefedb.js";import"./menu-97f65ddc.js";import"./multiselect-ae90ff62.js";import"./plugin-vueexport-helper-c27b6911.js";const K={class:"row"},S={class:"col-lg-6 col-sm-12"},T={class:"col-lg-6 col-sm-12"},I={class:"col-lg-6 col-sm-12"},O={class:"col-lg-6 col-sm-12"},z={__name:"FormModal",setup(k,{expose:_}){const n=r(null),i=r("create"),f=y(()=>{let o="";switch(i.value){case"update":o="更新醱酵槽資料";break;case"view":o="檢視醱酵槽資料";break}return o}),t={location:"",name:"",status:!0,macAddress:""},u=()=>C(t),a=r(u()),m=y(()=>i.value=="view"),h=["實驗室A","實驗室B"],d=[{label:"正常",value:!0},{label:"異常",value:!1}];return _({show:(o,l)=>{i.value=o,a.value=u(),l&&(a.value=C(l)),n.value.show()}}),(o,l)=>(b(),V(A,{ref_key:"modalRef",ref:n,"dialog-class":"modal-content-demo",title:f.value},M({default:p(()=>[e("div",K,[e("div",S,[v(g,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=c=>a.value.name=c),label:"醱酵槽名稱",disabled:m.value,required:"",placeholder:"請輸入醱酵槽名稱"},null,8,["modelValue","disabled"])]),e("div",T,[v($,{modelValue:a.value.location,"onUpdate:modelValue":l[1]||(l[1]=c=>a.value.location=c),label:"場域",options:h,disabled:m.value,required:"",placeholder:"請選擇場域"},null,8,["modelValue","disabled"])]),e("div",I,[v($,{modelValue:a.value.status,"onUpdate:modelValue":l[2]||(l[2]=c=>a.value.status=c),label:"連線狀態",options:d,disabled:m.value,required:"",placeholder:"請選擇連線狀態"},null,8,["modelValue","disabled"])]),e("div",O,[v(g,{modelValue:a.value.macAddress,"onUpdate:modelValue":l[3]||(l[3]=c=>a.value.macAddress=c),label:"MAC Address",disabled:m.value,required:"",placeholder:"請輸入MAC Address"},null,8,["modelValue","disabled"])])])]),_:2},[m.value?void 0:{name:"footer",fn:p(()=>[e("button",{href:"javascript:;",class:"btn btn-md btn-info",onClick:l[4]||(l[4]=c=>n.value.hide())}," 取消 "),e("button",{href:"javascript:;",class:"btn btn-md btn-danger",onClick:l[5]||(l[5]=c=>n.value.hide())}," 送出 ")]),key:"0"}]),1032,["title"]))}},G={__name:"DeleteModal",setup(k,{expose:_}){const n=r(null),i=r("");return _({show:f=>{var t;i.value=f,(t=n.value)==null||t.show()}}),(f,t)=>(b(),V(A,{ref_key:"modalRef",ref:n,"body-class":"text-center","dialog-class":"modal-dialog-centered",title:"刪除醱酵槽"},{footer:p(()=>[e("button",{href:"javascript:;",class:"btn btn-md btn-info",onClick:t[0]||(t[0]=u=>n.value.hide())}," 取消 "),e("button",{href:"javascript:;",class:"btn btn-md btn-danger",onClick:t[1]||(t[1]=u=>n.value.hide())}," 確定 ")]),default:p(()=>[R(" 確認是否刪除"+D(i.value)+" ",1)]),_:1},512))}},H={class:"row row-sm"},J={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 grid-margin"},L={class:"card custom-card"},P={class:"card-header border-bottom-0 pb-0"},Q={class:"row"},W={class:"col-12"},X={class:"d-flex flex-column flex-lg-row justify-content-end"},Y={class:"input-group wd-lg-25p"},Z={class:"input-group-append"},ee={class:"card-body"},te={key:0,class:"fa fa-circle text-danger","aria-hidden":"true"},se={key:1,class:"fa fa-circle text-success","aria-hidden":"true"},le=["onClick"],ae=e("i",{class:"fe fe-search"},null,-1),oe=[ae],ne=["onClick"],de=e("i",{class:"fe fe-edit-2"},null,-1),ie=[de],ce=["onClick"],re=e("i",{class:"fe fe-trash"},null,-1),ue=[re],me="醱酵槽管理",ye={__name:"index",setup(k){const _=j({keyword:""}),n=[{label:"醱酵槽名稱",key:"name"},{label:"場域",key:"location"},{label:"連線狀態",key:"status"},{label:"MAC Address",key:"macAddress"},{label:"操作",key:"action",tdClassName:"btn-list"}],i=r({total:10,size:10,page:1}),f=[{id:"1",location:"實驗室A",name:"醱酵槽1",status:!0,macAddress:"xxxx-xxxx-xxxx"},{id:"2",location:"實驗室A",name:"離心機1",status:!1,macAddress:"xxxx-xxxx-xxxx"}],t=r(f),u=(h=1,d=10)=>{const s={..._,page:h,limit:d};w(s.keyword)?w(s.keyword)&&(t.value=f):t.value=t.value.filter(o=>o.name.includes(s.keyword)|o.location.includes(s.keyword)),i.value.total=t.value.length},a=r(null),m=r(null);return(h,d)=>(b(),x(q,null,[v(E,{title:me}),e("div",H,[e("div",J,[e("div",L,[e("div",P,[e("div",Q,[e("div",W,[e("div",X,[e("div",Y,[B(e("input",{type:"text",class:"form-control","onUpdate:modelValue":d[0]||(d[0]=s=>_.keyword=s),placeholder:"搜尋醱酵槽名稱、地點",onKeyup:d[1]||(d[1]=U(s=>u(1),["enter"]))},null,544),[[F,_.keyword]]),e("span",Z,[e("button",{class:"btn btn-primary",type:"button",onClick:d[2]||(d[2]=s=>u(1))}," 搜尋 ")])])])])])]),e("div",ee,[v(N,{header:n,items:t.value,"page-change":u,pagination:i.value},{status:p(({value:s})=>[s?(b(),x("i",se)):(b(),x("i",te))]),action:p(({item:s})=>[e("button",{class:"btn btn-sm btn-primary",onClick:o=>a.value.show("view",s)},oe,8,le),e("button",{class:"btn btn-sm btn-danger",onClick:o=>a.value.show("update",s)},ie,8,ne),e("button",{class:"btn btn-sm btn-info",onClick:o=>m.value.show(s.name)},ue,8,ce)]),_:1},8,["items","pagination"])])])]),v(z,{ref_key:"formModalRef",ref:a},null,512),v(G,{ref_key:"deleteModalRef",ref:m},null,512)])],64))}};export{ye as default};
