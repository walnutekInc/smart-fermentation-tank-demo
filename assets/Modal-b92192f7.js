import{i as T,u as D}from"./menu-455b295a.js";import{a0 as I,_ as P,ac as z,a as w,d as L,e as r,f as i,h as s,t as h,F as v,B as $,C as f,m as p,n as j,w as q,l as x,Q as F,P as S,k as M,j as V,b as R,D as H,ad as K}from"./index-97618aaf.js";function X(e,a){for(var t=-1,o=e==null?0:e.length,l=Array(o);++t<o;)l[t]=a(e[t],t,e);return l}var Y=1/0,E=I?I.prototype:void 0,N=E?E.toString:void 0;function O(e){if(typeof e=="string")return e;if(P(e))return X(e,O)+"";if(T(e))return N?N.call(e):"";var a=e+"";return a=="0"&&1/e==-Y?"-0":a}var Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,G=/^\w*$/;function Q(e,a){if(P(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||T(e)?!0:G.test(e)||!Z.test(e)||a!=null&&e in Object(a)}var U="Expected a function";function B(e,a){if(typeof e!="function"||a!=null&&typeof a!="function")throw new TypeError(U);var t=function(){var o=arguments,l=a?a.apply(this,o):o[0],u=t.cache;if(u.has(l))return u.get(l);var c=e.apply(this,o);return t.cache=u.set(l,c)||u,c};return t.cache=new(B.Cache||z),t}B.Cache=z;var J=500;function W(e){var a=B(e,function(o){return t.size===J&&t.clear(),o}),t=a.cache;return a}var ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/\\(\\)?/g,ne=W(function(e){var a=[];return e.charCodeAt(0)===46&&a.push(""),e.replace(ee,function(t,o,l,u){a.push(l?u.replace(te,"$1"):o||t)}),a});const ae=ne;function oe(e){return e==null?"":O(e)}function le(e,a){return P(e)?e:Q(e,a)?[e]:ae(oe(e))}var se=1/0;function re(e){if(typeof e=="string"||T(e))return e;var a=e+"";return a=="0"&&1/e==-se?"-0":a}function ie(e,a){a=le(a,e);for(var t=0,o=a.length;e!=null&&t<o;)e=e[re(a[t++])];return t&&t==o?e:void 0}function A(e,a,t){var o=e==null?void 0:ie(e,a);return o===void 0?t:o}const ce={class:"page-header"},ue={class:"main-content-title tx-24 mg-b-5"},de={class:"breadcrumb"},fe={class:"d-flex"},ge={class:"justify-content-center"},he=s("i",{class:"fe fe-download me-2"},null,-1),me=s("i",{class:"fe fe-filter me-2"},null,-1),pe=s("i",{class:"fe fe-download-cloud me-2"},null,-1),ve=["onClick"],Le={__name:"Pageheader",props:{title:String,importTitle:{type:String,default:"Import"},importFunc:Function,filterTitle:{type:String,default:"Filter"},filterFunc:Function,downloadReportTitle:{type:String,default:"Download Report"},downloadReportFunc:Function,customButtons:Array},setup(e){const a=D(),t=w(()=>a.activeMenuStackList),o=l=>{a.manualActiveMenu(l)};return(l,u)=>{const c=L("router-link");return r(),i("div",ce,[s("div",null,[s("h2",ue,h(e.title),1),s("ol",de,[(r(!0),i(v,null,$(t.value,(n,d)=>(r(),i("li",{class:f(["breadcrumb-item",{active:d===t.value.length-1}]),key:n.path},[d===t.value.length-1?(r(),i(v,{key:0},[p(h(n.title),1)],64)):n.name?(r(),j(c,{key:1,to:{name:n.name},onClick:y=>o(n.name)},{default:q(()=>[p(h(n.title),1)]),_:2},1032,["to","onClick"])):(r(),i(v,{key:2},[p(h(n.title),1)],64))],2))),128))])]),s("div",fe,[s("div",ge,[e.importFunc?(r(),i("button",{key:0,onClick:u[0]||(u[0]=(...n)=>e.importFunc&&e.importFunc(...n)),class:"btn btn-white btn-icon-text my-2 me-2"},[he,p(" "+h(e.importTitle),1)])):x("",!0),e.filterFunc?(r(),i("button",{key:1,onClick:u[1]||(u[1]=(...n)=>e.filterFunc&&e.filterFunc(...n)),class:"btn btn-white btn-icon-text my-2 me-2"},[me,p(" "+h(e.filterTitle),1)])):x("",!0),e.downloadReportFunc?(r(),i("button",{key:2,onClick:u[2]||(u[2]=(...n)=>e.downloadReportFunc&&e.downloadReportFunc(...n)),class:f(["btn btn-primary my-2 btn-icon-text",{"me-2":e.customButtons.length>0}])},[pe,p(" "+h(e.downloadReportTitle),1)],2)):x("",!0),(r(!0),i(v,null,$(e.customButtons,(n,d)=>(r(),i("button",{key:n.title,onClick:y=>n.func(),class:f(["btn my-2 btn-icon-text",{"btn-primary":(n.color??"primary")=="primary","btn-secondary":n.color=="secondary","btn-success":n.color=="success","btn-danger":n.color=="danger","btn-warning":n.color=="warning","btn-info":n.color=="info","btn-light":n.color=="light","btn-dark":n.color=="dark","btn-white":n.color=="white","btn-white":n.color=="white","btn-outline-primary":n.color=="outline-primary","btn-outline-success":n.color=="outline-success","btn-outline-danger":n.color=="outline-danger","btn-outline-warning":n.color=="outline-warning","btn-outline-info":n.color=="outline-info","btn-outline-dark":n.color=="outline-dark","me-2":d!=e.customButtons.length-1}])},[s("i",{class:f(`${n.icon} ${n.title?"me-2":""}`)},null,2),p(" "+h(n.title),1)],10,ve))),128))])])])}}},ye=["onClick"],be=s("a",{class:"page-link",href:"javascript:;",tabindex:"-1"},"前一頁",-1),we=[be],ke=["onClick"],Ce={class:"page-link",href:"javascript:;"},$e=["onClick"],_e=s("a",{class:"page-link",href:"javascript:;"},"下一頁",-1),Se=[_e],Fe={__name:"Pagination",props:{pagination:{type:Object,default:()=>({total:0,size:10,page:0})}},emits:["pageChange"],setup(e,{emit:a}){const t=e,o=w(()=>{let g=(t.pagination.total+t.pagination.size-1)/t.pagination.size;return parseInt(g)}),l=w(()=>t.pagination.page),u=w(()=>{let g=1,b=1;o.value<=5||l.value<=3?(g=1,l.value<=3&&o.value>5?b=5:b=o.value):o.value-l.value<2?(g=o.value-4,b=o.value):(g=l.value-2,b=l.value+2,b>o.value&&(b=o.value));let C=[];for(let _=g;_<=b;_++)C.push(_);return C}),c=()=>{window.scrollTo(0,0)},n=w(()=>l.value!==1),d=w(()=>o.value>0&&l.value!==o.value),y=g=>{l.value!=g&&(a("pageChange",g),c())},m=()=>{n.value&&(a("pageChange",t.pagination.page-1),c())},k=()=>{d.value&&(a("pageChange",t.pagination.page+1),c())};return(g,b)=>(r(),i("ul",{class:f(["pagination mt-4 mb-0 float-end",{"d-none":t.pagination.total==0}])},[s("li",{class:f(["page-item page-prev",{disabled:!n.value}]),onClick:F(m,["prevent"])},we,10,ye),(r(!0),i(v,null,$(u.value,(C,_)=>(r(),i("li",{class:f(["page-item",{active:C===l.value}]),key:_,onClick:F(ze=>y(C),["prevent"])},[s("a",Ce,h(C),1)],10,ke))),128)),s("li",{class:f(["page-item page-next",{disabled:!d.value}]),onClick:F(k,["prevent"])},Se,10,$e)],2))}};const xe={class:"table-responsive border userlist-table"},Te={class:"table card-table table-striped table-vcenter text-nowrap mb-0"},Pe=["onClick","title"],Be=["colspan"],je={__name:"DataTable",props:{pageChange:{type:Function,required:!1},items:{type:Array,required:!0,default:[]},header:{type:Array,required:!0},pagination:{type:Object,required:!1},sort:{type:[String],default:""},orderBy:{type:[String,Number],default:""}},emits:["update:sort","update:orderBy"],setup(e,{emit:a}){const t=e,o=w({get:()=>t.sort,set:c=>{a("update:sort",c)}}),l=w({get:()=>t.orderBy,set:c=>{a("update:orderBy",c)}}),u=(c,n)=>{l.value===c?(l.value=c,o.value=n==="desc"?"asc":"desc"):(l.value=c,o.value="asc"),t.pageChange(1)};return(c,n)=>(r(),i(v,null,[s("div",xe,[s("table",Te,[s("thead",null,[s("tr",null,[(r(!0),i(v,null,$(e.header,({label:d,thClassName:y,key:m,sortTurn:k})=>(r(),i("th",{class:f({[y||"wd-lg-20p"]:!0}),key:m},[!k||k==="off"?(r(),i(v,{key:0},[p(h(d),1)],64)):(r(),i("a",{key:1,href:"#",class:"sorted d-flex justify-content-between w-100",onClick:F(g=>u(m,o.value),["prevent"]),title:`▲▼ ${d}`},[p(h(d)+" ",1),s("span",{class:f({active:o.value==="asc"&&e.orderBy==m})},null,2),s("span",{class:f({active:o.value==="desc"&&e.orderBy==m})},null,2)],8,Pe))],2))),128))])]),s("tbody",null,[e.items.length>0?(r(!0),i(v,{key:0},$(e.items,(d,y)=>(r(),i("tr",{key:d.id},[(r(!0),i(v,null,$(e.header,({key:m,tdClassName:k},g)=>(r(),i("td",{key:m,class:f(k)},[S(c.$slots,m,{item:d,value:M(A)(d,m,""),index:g,itemIndex:y},()=>[p(h(M(A)(d,m,"")),1)])],2))),128))]))),128)):(r(),i("td",{key:1,colspan:e.header.length,class:"text-center"}," 查無資料 ",8,Be))])])]),V(Fe,{pagination:e.pagination,onPageChange:e.pageChange},null,8,["pagination","onPageChange"])],64))}},Ie={class:"modal-content"},Me={class:"modal-header"},Re={class:"modal-title"},Ee=s("button",{"aria-label":"Close",class:"btn-close",type:"button","data-bs-dismiss":"modal"},null,-1),Ne={class:"modal-footer"},Ae=s("button",{class:"btn ripple btn-secondary",type:"button","data-bs-dismiss":"modal"}," 關閉 ",-1),qe={__name:"Modal",props:{title:{type:String,default:""},dialogClass:{type:String,default:""},bodyClass:{type:String,default:""},modalHide:Function,modalShow:Function},setup(e,{expose:a}){const t=e,o=R(null),l=R(null),u=()=>l.value.show(),c=()=>l.value.hide();return H(()=>{l.value=new K(o.value),o.value.addEventListener("show.bs.modal",()=>{t.modalShow&&t.modalShow()}),o.value.addEventListener("hidden.bs.modal",()=>{t.modalHide&&t.modalHide()})}),a({show:u,hide:c}),(n,d)=>(r(),i("div",{class:"modal fade",ref_key:"modalRef",ref:o,tabindex:"-1"},[s("div",{class:f(["modal-dialog",{[e.dialogClass]:!0}]),role:"document"},[s("div",Ie,[s("div",Me,[S(n.$slots,"header",{},()=>[s("h6",Re,[S(n.$slots,"title",{},()=>[p(h(e.title),1)])]),Ee])]),s("div",{class:f(["modal-body",{[e.bodyClass]:!0}])},[S(n.$slots,"default")],2),s("div",Ne,[S(n.$slots,"footer",{},()=>[Ae])])])],2)],512))}};export{je as _,qe as a,Le as b};
