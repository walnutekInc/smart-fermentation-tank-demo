import{y as i,c as k,e as b,m as g,E as x,w as p,g as l,h as u,f as $,k as C,l as R,t as D,G as M,H as E,I as j,J as B,F as N,K as w}from"./index-29d56d19.js";import{_ as U}from"./Pageheader-d386a2e3.js";import{_,a as V,c as y,b as q}from"./FermentationInput-af432dbe.js";import"./menu-833b8642.js";const A={class:"row"},F={class:"col-lg-6 col-sm-12"},K={key:0,class:"col-lg-6 col-sm-12"},T={class:"col-lg-6 col-sm-12"},I={class:"col-lg-6 col-sm-12"},S={__name:"FormModal",setup(h,{expose:m}){const n=i(null),d=i("create"),v=k(()=>{let t="";switch(d.value){case"create":t="新增帳號資料";break;case"update":t="更新帳號資料";break;case"view":t="檢視帳號資料";break}return t}),o={account:"",name:"",email:"",password:""},c=()=>y(o),s=i(c()),r=k(()=>d.value=="view");return m({show:(t,e)=>{d.value=t,s.value=c(),e&&(s.value=y(e)),n.value.show()}}),(t,e)=>(b(),g(V,{ref_key:"modalRef",ref:n,"dialog-class":"modal-content-demo",title:v.value},x({default:p(()=>[l("div",A,[l("div",F,[u(_,{modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.name=a),label:"帳號",disabled:r.value,required:"",placeholder:"請輸入帳號"},null,8,["modelValue","disabled"])]),d.value!=="view"?(b(),$("div",K,[u(_,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.password=a),label:"密碼",disabled:r.value,required:"",placeholder:"請輸入密碼"},null,8,["modelValue","disabled"])])):C("",!0),l("div",T,[u(_,{modelValue:s.value.name,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.name=a),label:"使用者名稱",disabled:r.value,required:"",placeholder:"請輸入使用者名稱"},null,8,["modelValue","disabled"])]),l("div",I,[u(_,{modelValue:s.value.email,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.email=a),label:"Email",disabled:r.value,required:"",placeholder:"請輸入Email"},null,8,["modelValue","disabled"])])])]),_:2},[r.value?void 0:{name:"footer",fn:p(()=>[l("button",{href:"javascript:;",class:"btn btn-md btn-info",onClick:e[4]||(e[4]=a=>n.value.hide())}," 取消 "),l("button",{href:"javascript:;",class:"btn btn-md btn-danger",onClick:e[5]||(e[5]=a=>n.value.hide())}," 送出 ")]),key:"0"}]),1032,["title"]))}},z={__name:"DeleteModal",setup(h,{expose:m}){const n=i(null),d=i("");return m({show:v=>{var o;d.value=v,(o=n.value)==null||o.show()}}),(v,o)=>(b(),g(V,{ref_key:"modalRef",ref:n,"body-class":"text-center","dialog-class":"modal-dialog-centered",title:"刪除帳號"},{footer:p(()=>[l("button",{href:"javascript:;",class:"btn btn-md btn-info",onClick:o[0]||(o[0]=c=>n.value.hide())}," 取消 "),l("button",{href:"javascript:;",class:"btn btn-md btn-danger",onClick:o[1]||(o[1]=c=>n.value.hide())}," 確定 ")]),default:p(()=>[R(" 確認是否刪除"+D(d.value)+" ",1)]),_:1},512))}},G={class:"row row-sm"},H={class:"col-sm-12 col-md-12 col-lg-12 col-xl-12 grid-margin"},J={class:"card custom-card"},L={class:"card-header border-bottom-0 pb-0"},O={class:"row"},P={class:"col-12"},Q={class:"d-flex flex-column flex-lg-row justify-content-between"},W={class:"input-group wd-lg-25p"},X={class:"input-group-append"},Y={class:"card-body"},Z=["onClick"],ee=l("i",{class:"fe fe-search"},null,-1),le=[ee],te=["onClick"],ae=l("i",{class:"fe fe-edit-2"},null,-1),oe=[ae],se=["onClick"],ne=l("i",{class:"fe fe-trash"},null,-1),de=[ne],ie="帳號管理",ve={__name:"index",setup(h){const m=M({keyword:""}),n=[{label:"帳號",key:"account"},{label:"使用者名稱",key:"name"},{label:"Email",key:"email"},{label:"操作",key:"action",tdClassName:"btn-list"}],d=i({total:10,size:10,page:1}),v=[{id:"1",account:"A123456",name:"userA",email:"123456@gmail.com"},{id:"2",account:"A1234567",name:"userB",email:"A1234567@gmail.com"}],o=i(v),c=(f=1,t=10)=>{const e={...m,page:f,limit:t};w(e.keyword)?w(e.keyword)&&(o.value=v):o.value=o.value.filter(a=>a.name.includes(e.keyword)|a.email.includes(e.keyword)|a.account.includes(e.keyword)),d.value.total=o.value.length},s=i(null),r=i(null);return(f,t)=>(b(),$(N,null,[u(U,{title:ie}),l("div",G,[l("div",H,[l("div",J,[l("div",L,[l("div",O,[l("div",P,[l("div",Q,[l("button",{type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=e=>s.value.show("create"))},"新增帳號"),l("div",W,[E(l("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=e=>m.keyword=e),placeholder:"搜尋帳號、名稱、email",onKeyup:t[2]||(t[2]=B(e=>c(1),["enter"]))},null,544),[[j,m.keyword]]),l("span",X,[l("button",{class:"btn btn-primary",type:"button",onClick:t[3]||(t[3]=e=>c(1))}," 搜尋 ")])])])])])]),l("div",Y,[u(q,{header:n,items:o.value,"page-change":c,pagination:d.value},{action:p(({item:e})=>[l("button",{class:"btn btn-sm btn-primary",onClick:a=>s.value.show("view",e)},le,8,Z),l("button",{class:"btn btn-sm btn-danger",onClick:a=>s.value.show("update",e)},oe,8,te),l("button",{class:"btn btn-sm btn-info",onClick:a=>r.value.show(e.name)},de,8,se)]),_:1},8,["items","pagination"])])])]),u(S,{ref_key:"formModalRef",ref:s},null,512),u(z,{ref_key:"deleteModalRef",ref:r},null,512)])],64))}};export{ve as default};
